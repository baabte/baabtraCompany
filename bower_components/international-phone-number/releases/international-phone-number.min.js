(function(){"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function(){return{restrict:"A",require:"^ngModel",scope:!0,link:function(scope,element,attrs,ctrl){var handleWhatsSupposedToBeAnArray,options,read;return read=function(){return ctrl.$setViewValue(element.val())},handleWhatsSupposedToBeAnArray=function(e){return"object"==typeof e?e:e.toString().replace(/[ ]/g,"").split(",")},options={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},angular.forEach(options,function(value,key){var option;return option=eval("attrs."+key),angular.isDefined(option)?"preferredCountries"===key?options.preferredCountries=handleWhatsSupposedToBeAnArray(option):"onlyCountries"===key?options.onlyCountries=handleWhatsSupposedToBeAnArray(option):options[key]="boolean"==typeof value?"true"===option:option:void 0}),element.intlTelInput(options),options.utilsScript||element.intlTelInput("loadUtils","bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),ctrl.$parsers.push(function(e){return e?e.replace(/[^\d]/g,""):e}),ctrl.$parsers.push(function(e){return e?ctrl.$setValidity("international-phone-number",element.intlTelInput("isValidNumber")):(e="",delete ctrl.$error["international-phone-number"]),e}),element.on("blur keyup change",function(){return scope.$apply(read)}),element.on("$destroy",function(){return element.off("blur keyup change")})}}})}).call(this);
